// Generated by CoffeeScript 1.6.3
var telescopicText;

telescopicText = {};

telescopicText.graphs = {};

telescopicText.Graph = (function() {
  function Graph(name) {
    var nodes;
    telescopicText.graphs[name] = this;
    /* private*/

    nodes = {};
    /*getters, setters*/

    this.getName = function() {
      return name;
    };
    this.getNode = function(key) {
      return nodes[key];
    };
    this.setNode = function(key, value) {
      return nodes[key] = value;
    };
    /* class method*/

    this.makeLinkedList = function(startVertex) {
      var current_vertex, key, next_key, next_vertex, value, _results;
      if (!startVertex) {
        for (key in nodes) {
          value = nodes[key];
          console.log('key: ' + key + 'bar');
        }
      }
      current_vertex = startVertex;
      if (!startVertex.getNext()) {
        console.log('Warning: This graph only has one vertex linked');
      }
      _results = [];
      while (current_vertex.getNext()) {
        next_key = current_vertex.getNext();
        next_vertex = this.getNode(next_key);
        current_vertex.setNext(next_vertex);
        _results.push(current_vertex = next_vertex);
      }
      return _results;
    };
  }

  return Graph;

})();

telescopicText.Vertex = (function() {
  function Vertex(name, content, children, remain_after_click, next, graph) {
    var previous;
    this.content = content;
    this.children = children != null ? children : [[]];
    if (remain_after_click == null) {
      remain_after_click = false;
    }
    if (next == null) {
      next = null;
    }
    if (graph == null) {
      graph = "telescopicDefaultID";
    }
    if (!telescopicText.graphs[graph]) {
      new telescopicText.Graph(graph);
    }
    graph = telescopicText.graphs[graph];
    graph.setNode(name, this);
    this.tree_edge;
    this.forward_edge;
    this.back_edge;
    this.cross_edge;
    previous = null;
    /* getters, setters*/

    this.getName = function() {
      return name;
    };
    this.getGraph = function() {
      return graph;
    };
    this.getNext = function() {
      return next;
    };
    this.setNext = function(newNext) {
      return next = newNext;
    };
    this.getPrevious = function() {
      return previous;
    };
    this.getRemainAfterClick = function() {
      return remain_after_click;
    };
    this.setChildrenReferences = function() {
      var child, child_index, missing_child, set_index, _results;
      set_index = 0;
      _results = [];
      while (set_index < this.children.length) {
        child_index = 0;
        while (child_index < this.children[set_index].length) {
          child = this.children[set_index][child_index];
          if (!graph.getNode(child)) {
            missing_child = this.children[set_index][child_index];
            console.log('Vertex ' + this.name + ' in graph "' + graph.getName() + '" is missing a child, "' + missing_child + '". It will be removed from the vertex children.');
            this.children[set_index].splice(child_index, 1);
          } else {
            this.children[set_index][child_index] = graph.getNode(child);
            child_index += 1;
          }
        }
        _results.push(set_index += 1);
      }
      return _results;
    };
  }

  return Vertex;

})();

new telescopicText.Graph('telescopicDefaultID');
